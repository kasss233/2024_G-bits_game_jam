[gd_scene load_steps=43 format=3 uid="uid://djyd2d2r2k1qh"]

[ext_resource type="Script" path="res://weapons/guns.gd" id="1_inhj2"]
[ext_resource type="AnimationLibrary" uid="uid://d4fybwn0or211" path="res://animation/weapon.res" id="2_dq31k"]
[ext_resource type="PackedScene" uid="uid://brihgfuhq8xps" path="res://weapons/bullets/gun_bullets.tscn" id="2_q6dqn"]
[ext_resource type="Texture2D" uid="uid://bdrp0q7f51xo7" path="res://assets/Guns Update - V1.01/Guns_V1.01 - Commission - Copy/02 - Sprite sheets/Glock - P80 [64x48]/[SHOOT WITH CASING] Glock - P80.png" id="3_q0co2"]
[ext_resource type="Texture2D" uid="uid://ydrqp0h7jfq3" path="res://assets/Guns Update - V1.01/Guns_V1.01 - Commission - Copy/02 - Sprite sheets/Glock - P80 [64x48]/[RELOAD] Glock - P80.png" id="4_i40bx"]
[ext_resource type="AudioStream" uid="uid://cvan666ct84hi" path="res://public_assets/音频/Snake's SECOND Authentic Gun Sounds/Full Sounds/9mm/MP3/9mm Single.mp3" id="6_5ocym"]

[sub_resource type="Animation" id="Animation_annrd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("sprite/Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hyy3n"]
_data = {
"RESET": SubResource("Animation_annrd")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_ppxk4"]
atlas = ExtResource("3_q0co2")
region = Rect2(0, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_r7v00"]
atlas = ExtResource("4_i40bx")
region = Rect2(0, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_bh1h3"]
atlas = ExtResource("4_i40bx")
region = Rect2(64, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_gupyy"]
atlas = ExtResource("4_i40bx")
region = Rect2(128, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_4xyra"]
atlas = ExtResource("4_i40bx")
region = Rect2(192, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_xnqr8"]
atlas = ExtResource("4_i40bx")
region = Rect2(256, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_iepml"]
atlas = ExtResource("4_i40bx")
region = Rect2(320, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ma1f8"]
atlas = ExtResource("4_i40bx")
region = Rect2(384, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_d2gh4"]
atlas = ExtResource("4_i40bx")
region = Rect2(448, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_jf5bl"]
atlas = ExtResource("4_i40bx")
region = Rect2(512, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_awj3v"]
atlas = ExtResource("4_i40bx")
region = Rect2(576, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_xswmb"]
atlas = ExtResource("4_i40bx")
region = Rect2(640, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_fo17l"]
atlas = ExtResource("4_i40bx")
region = Rect2(704, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_jburs"]
atlas = ExtResource("4_i40bx")
region = Rect2(768, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_x2rbh"]
atlas = ExtResource("4_i40bx")
region = Rect2(832, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_qfior"]
atlas = ExtResource("4_i40bx")
region = Rect2(896, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_yvwei"]
atlas = ExtResource("4_i40bx")
region = Rect2(960, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_tsp57"]
atlas = ExtResource("3_q0co2")
region = Rect2(0, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_xu8pj"]
atlas = ExtResource("3_q0co2")
region = Rect2(64, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_dmy6h"]
atlas = ExtResource("3_q0co2")
region = Rect2(128, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_calpe"]
atlas = ExtResource("3_q0co2")
region = Rect2(192, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_urgv3"]
atlas = ExtResource("3_q0co2")
region = Rect2(256, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rbrai"]
atlas = ExtResource("3_q0co2")
region = Rect2(320, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_fgkvn"]
atlas = ExtResource("3_q0co2")
region = Rect2(384, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_qy0v1"]
atlas = ExtResource("3_q0co2")
region = Rect2(448, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_wax7u"]
atlas = ExtResource("3_q0co2")
region = Rect2(512, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3gnj"]
atlas = ExtResource("3_q0co2")
region = Rect2(576, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_6w0au"]
atlas = ExtResource("3_q0co2")
region = Rect2(640, 0, 64, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rwofl"]
atlas = ExtResource("3_q0co2")
region = Rect2(704, 0, 64, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_ot0k1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ppxk4")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r7v00")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bh1h3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gupyy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4xyra")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xnqr8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iepml")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ma1f8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2gh4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jf5bl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_awj3v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xswmb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fo17l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jburs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x2rbh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qfior")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yvwei")
}],
"loop": false,
"name": &"reload",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tsp57")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xu8pj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dmy6h")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_calpe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_urgv3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rbrai")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fgkvn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qy0v1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wax7u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3gnj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6w0au")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rwofl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tsp57")
}],
"loop": false,
"name": &"shooting",
"speed": 60.0
}]

[sub_resource type="Animation" id="Animation_lxbmo"]
resource_name = "idle"

[sub_resource type="Animation" id="Animation_0ic8h"]
resource_name = "reload"
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"reload_start"
}, {
"args": [],
"method": &"reload_end"
}]
}

[sub_resource type="Animation" id="Animation_l12sa"]
resource_name = "shoot"
length = 0.5
step = 0.1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"update_bullets"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_m5xdk"]
_data = {
"idle": SubResource("Animation_lxbmo"),
"reload": SubResource("Animation_0ic8h"),
"shoot": SubResource("Animation_l12sa")
}

[node name="glock" type="Node2D"]
position = Vector2(58, 44)
script = ExtResource("1_inhj2")
bullet = ExtResource("2_q6dqn")
weapon = 3

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_hyy3n"),
"weapon": ExtResource("2_dq31k")
}

[node name="sprite" type="Node2D" parent="."]
position = Vector2(-1, 0)

[node name="Sprite2D" type="AnimatedSprite2D" parent="sprite"]
scale = Vector2(0.6, 0.6)
sprite_frames = SubResource("SpriteFrames_ot0k1")
animation = &"shooting"
autoplay = "idle"
centered = false
offset = Vector2(-20, -25)

[node name="bullet_position" type="Node2D" parent="sprite/Sprite2D"]
position = Vector2(28.3333, -13.3333)

[node name="method_player" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_m5xdk")
}
autoplay = "weapon_shoot/idle"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_5ocym")

[connection signal="animation_finished" from="sprite/Sprite2D" to="." method="_on_sprite_2d_animation_finished"]
